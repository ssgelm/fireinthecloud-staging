
<!doctype html>
<!-- START OF _layouts/default.html -->
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" >
		<meta content="width=device-width,initial-scale=1" name="viewport">
		<meta content="A place to talk about the various DevOps-related tips and tricks I have picked up over the years." name="description">
		<meta content="Fire in the Cloud" name="author">

		<title>Fire in the Cloud</title>

		<!-- Styles -->
		<link href="/fireinthecloud-staging/stylesheets/main.css" rel="stylesheet">

		<!-- Google webfonts -->
		<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Tangerine">
		<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Cousine">

		<link href="http://feeds.feedburner.com/turkeltaub" rel="alternate" title="Fire in the Cloud" type="application/rss+xml" />

	</head>
	<body>

		<div class="wrap">

			<header>
                <a href="/fireinthecloud-staging"><div class="title">Fire in the Cloud</div></a>

				<div class="navi">
					<ul>
						<li><a href="/fireinthecloud-staging/">Blog</a></li>
						<li><a href="/fireinthecloud-staging/blog/archives">Archives</a></li>
						<li><a href="/fireinthecloud-staging/atom.xml">RSS</a></li>
					</ul>
				</div> <!-- // .navi -->
			</header>

				<!-- START OF index.html -->

	
		
		<!-- START OF _includes/article.html -->


<article>
    <header>
        <h1><a href="/fireinthecloud-staging/blog/2014/06/21/resizing-a-xen-domus-loopback-volume-online/">Resizing a Xen DomU&#8217;s Loopback Volume Online</a></h1>
        <time>June 21 2014</time>
    </header>
    
    <div class="content">
        <p>At Braintree we use Xen running on Debian for virtualization.  We have two generations of Dom0s.  Our newer generation uses LVM for VM storage and our older generation uses disk images attached to the VMs via loopback devices.  We often have the need to enlarge a disk volume attached to a DomU.  In order to maintain the highest uptime possible we prefer to resize the VM online without needing to shutdown or even reboot the VM.  All of our services are highly available so they can tolerate a reboot of a single VM but we still try not to rely on that if possible.  Resizing an LVM-backed volume online is a pretty simple process as long as you are presenting the volume to the DomU as a partition instead of an entire disk (just <code>lvresize</code> it on the Dom0 then <code>resize2fs</code> it on the DomU).  Pretty much <a href="http://theninthdimension.blogspot.com/2010/01/how-to-resize-grow-xen-vm-partition.html">all</a> <a href="http://grantmcwilliams.com/item/262-resize-disk-image-used-as-xen-domu-hard-drive">articles</a> <a href="http://amandine.aupetit.info/187/add-disk-space-to-a-img-disk-image-for-use-with-xen-for-example/">about</a> resizing a Xen loopback volume list the first step as shutting down the DomU.  <a href="http://serverfault.com/questions/65340/how-do-i-get-a-xen-domu-to-notice-a-change-in-the-block-size-of-one-of-its-phy-d">Some</a> go as far as to claim it&rsquo;s impossible to resize it online.</p>


        <a rel="full-article" href="/fireinthecloud-staging/blog/2014/06/21/resizing-a-xen-domus-loopback-volume-online/">Continue reading »</a>

    </div>
    


    <footer>
        


		



  
		
			Tagged under
		
    <a class='category' href='/fireinthecloud-staging/blog/categories/xen/'>xen</a>
	


    </footer>

</article>
<!-- END OF _includes/article.html -->

	
		
		<!-- START OF _includes/article.html -->


<article>
    <header>
        <h1><a href="/fireinthecloud-staging/blog/2014/03/18/first-post/">First post</a></h1>
        <time>March 18 2014</time>
    </header>
    
    <div class="content">
        <p>This is my first post!  More content coming soon&hellip;</p>

        <a rel="full-article" href="/fireinthecloud-staging/blog/2014/03/18/first-post/">Continue reading »</a>

    </div>
    


    <footer>
        


		




    </footer>

</article>
<!-- END OF _includes/article.html -->

	
	
<div class="pagination">
	
	
	<span class="total">1 of 1</span>
	
	
</div>
<!-- END OF index.html -->


			<footer>
				Copyright &copy; 2014

	Stephen Gelman


			</footer>

		</div> <!-- // .wrap -->

        <!-- jQuery and plugins -->
        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>

        <!-- Modernizr -->
        <script type="text/javascript" src="/fireinthecloud-staging/js/modernizr-2.0.js"></script>

        <!-- Syntax highlighter -->
        <!-- <link href="/fireinthecloud-staging/stylesheets/prettify-hemisu.css" type="text/css" rel="stylesheet" /> -->
        <script type="text/javascript" src="/fireinthecloud-staging/js/main.js"></script>

        
        <script type="text/javascript">
            var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-52141637-1']);
            _gaq.push(['_trackPageview']);

            (function() {
                var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
            })();
        </script>
        

        

    </body>
</html>
<!-- END OF _layouts/default.html -->
